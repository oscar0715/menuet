---
title: 《Database System Concepts》笔记
tags:
	- Database
categories:
	- Technology
	- Database
date: 2017-04-17 18:12:15
---
《Database System Concepts》

Reference：
[三大范式与BCNF](http://www.cnblogs.com/ybwang/archive/2010/06/04/1751279.html "三大范式与BCNF")
<!-- more -->

***

# 关系数据库设计

1. 第一范式
符合1NF的关系中的每个属性都不可再分。
但是还是会出现冗余。
2. 第二范式
符合1NF，并且非主属性完全依赖于码。
	- 数据库表中不存在`非关键字段`对任一`候选键`的`部分函数依赖`，也即所有`非关键字段`都`完全依赖`于任意一组`候选关键字`。
	- `函数依赖`很容易理解
	- `完全函数依赖`：如果Y完全函数依赖于X，那X的真子集无法唯一标识Y
	- `主属性`：包含在任何一个候选键中的属性
	- 不包含在任何候选键中的属性称为`非主属性`或`非键属性`或`非关键字段`。
```
例子：(学号, 姓名, 年龄, 课程名称, 成绩, 学分)
候选键只有一个，就是(学号，课程名称)，则主键就是(学号，课程名称)
存在如下决定关系：
1：(学号, 课程名称) → (姓名, 年龄, 成绩, 学分)
2：(课程名称) → (学分)
3：(学号) → (姓名, 年龄)

其中，姓名、年龄、学分是部分依赖于主键的，而成绩是完全依赖于主键的，存在部分依赖关系，所以不满足第二范式。

解决办法：把原表(学号, 姓名, 年龄, 课程名称, 成绩, 学分)分成三个表：
1. 学生：Student(学号, 姓名, 年龄)；
2. 课程：Course(课程名称, 学分)；
3. 选课关系：SelectCourse(学号, 课程名称, 成绩)。
```
3. 第三范式
符合3NF，并且，主属性不依赖于主属性。
	- 在第二范式的基础上，数据表中如果不存在`非关键字段`对任一`候选关键字段`的`传递函数依赖`则符合第三范式
```
例子：表：(学号, 姓名, 年龄, 所在学院, 学院地点, 学院电话)
该表中候选字段只有“学号”，于是“学号”做主键。由于主键是单一属性，所以不存在非主属性对主键的部分函数依赖的问题，所以必然满足第二范式。但是存在如下传递依赖
(学号) → (所在学院) → (学院地点, 学院电话)
学院地点和学院电话传递依赖于学号，而学院地点和学院电话都是非关键字段，即表中出现了“某一非关键字段可以确定出其它非关键字段”的情况，于是违反了第三范式。

解决办法：
把原表分成两个表：
1. 学生：(学号, 姓名, 年龄, 所在学院)；
2. 学院：(学院, 地点, 电话)。
```
4. BCNF范式
符合3NF，并且，主属性不依赖于主属性。

![四种范式的关系](http://dl2.iteye.com/upload/attachment/0031/8920/fa4fcfba-7888-310d-bd10-a736ef1ac97d.gif "四种范式的关系")



